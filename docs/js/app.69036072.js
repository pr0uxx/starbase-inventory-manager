(function(t){function e(e){for(var o,l,c=e[0],u=e[1],i=e[2],s=0,d=[];s<c.length;s++)l=c[s],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&d.push(r[l][0]),r[l]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);b&&b(e);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,l=1;l<n.length;l++){var u=n[l];0!==r[u]&&(o=!1)}o&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},a=[];function l(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"1638902d"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=o);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=l(t);var i=new Error;a=function(e){u.onerror=u.onload=null,clearTimeout(s);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,n[1](i)}r[t]=void 0}};var s=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/starbase-inventory-manager/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var b=i;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0ae1":function(t,e,n){"use strict";n("bacf")},3302:function(t,e,n){},6500:function(t,e,n){"use strict";n("3302")},bacf:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(t,e){var n=Object(o["y"])("router-view");return Object(o["r"])(),Object(o["d"])(n)}n("6500");const a={};a.render=r;var l=a,c=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02"));Object(o["u"])("data-v-70f73c4a");var u={class:"home container-fluid"},i={class:"d-flex flex-wrap"},s={class:"col-12 col-md-6 col-lg-4"},b={class:"card  me-2",id:"pi-card"},d=Object(o["g"])("div",{class:"card-header"}," Player Inventory ",-1),f={class:"col-12 col-md-6 col-lg-4"},O={class:"card me-2",id:"s-card"},m=Object(o["g"])("div",{class:"card-header"}," Ship ",-1),h={class:"col-12 col-md-12 col-lg-4"},j={class:"card me-2",id:"c-card"},p=Object(o["g"])("div",{class:"card-header"}," Remaining ",-1);function v(t,e,n,r,a,l){var c=Object(o["y"])("OreTable"),v=Object(o["y"])("ShipPurchase"),g=Object(o["y"])("InventoryCompare");return Object(o["r"])(),Object(o["f"])("div",u,[Object(o["g"])("p",null,"Prices last updated: "+Object(o["A"])(t.market.lastUpdate),1),Object(o["g"])("div",i,[Object(o["g"])("div",s,[Object(o["g"])("div",b,[d,Object(o["h"])(c,{inventory:t.playerInventory},null,8,["inventory"])])]),Object(o["g"])("div",f,[Object(o["g"])("div",O,[m,Object(o["h"])(v,{inventory:t.shipInventory},null,8,["inventory"])])]),Object(o["g"])("div",h,[Object(o["g"])("div",j,[p,Object(o["h"])(g,{inventoryA:t.playerInventory,inventoryB:t.shipInventory},null,8,["inventoryA","inventoryB"])])])])])}Object(o["s"])();n("b0c0");var g={class:"form-floating m-2"},y=Object(o["g"])("label",{for:"floatingInput"},"Player Cash Balance",-1),S={class:"table table-striped"},k=Object(o["g"])("thead",null,[Object(o["g"])("tr",null,[Object(o["g"])("th",null,"Name"),Object(o["g"])("th",null,"Stack Value"),Object(o["g"])("th",null,"Full Stack Count"),Object(o["g"])("th",null,"Extra Volume"),Object(o["g"])("th",null,"Total Ore"),Object(o["g"])("th",null,"Total Value")])],-1),V=["onUpdate:modelValue"],w=["onUpdate:modelValue"];function N(t,e,n,r,a,l){return Object(o["r"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("div",g,[Object(o["F"])(Object(o["g"])("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.playerInventory.cash=e}),class:"form-control",id:"floatingInput"},null,512),[[o["D"],t.playerInventory.cash]]),y]),Object(o["g"])("ul",null,[Object(o["g"])("li",null," Inventory total ore: "+Object(o["A"])(t.formatNumber(t.playerInventory.totalOreVolume)),1),Object(o["g"])("li",null," Inventory total value: "+Object(o["A"])(t.formatNumber(t.playerInventory.totalOreValue)),1)]),Object(o["g"])("table",S,[k,Object(o["g"])("tbody",null,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(t.playerInventory.ores,(function(e){return Object(o["r"])(),Object(o["f"])("tr",{key:e},[Object(o["g"])("td",null,Object(o["A"])(e.name),1),Object(o["g"])("td",null,Object(o["A"])(e.marketValue),1),Object(o["g"])("td",null,[Object(o["F"])(Object(o["g"])("input",{class:"form-control form-control-sm",type:"number","onUpdate:modelValue":function(t){return e.fullStackCount=t}},null,8,V),[[o["D"],e.fullStackCount]])]),Object(o["g"])("td",null,[Object(o["F"])(Object(o["g"])("input",{class:"form-control form-control-sm",type:"number","onUpdate:modelValue":function(t){return e.nonFullStackTotalVolume=t}},null,8,w),[[o["D"],e.nonFullStackTotalVolume]])]),Object(o["g"])("td",null,Object(o["A"])(t.formatNumber(e.totalOre)),1),Object(o["g"])("td",null,Object(o["A"])(t.formatNumber(e.totalMarketValue)),1)])})),128))])])],64)}n("b680");var I=n("262e"),A=n("2caf"),x=n("d4ec"),T=n("bee2"),F=(n("d81d"),n("a9e3"),function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(x["a"])(this,t),this.stackSize=1728e3,this.name=e,this.marketValue=n}),C=function t(){Object(x["a"])(this,t)};C.lastUpdate=new Date(2021,8,23),C.ores=[new F("Aegisium",7750),new F("Ajatite",548),new F("Arkanium",12895),new F("Bastium",2495),new F("Charodium",4398),new F("Corazium",28895),new F("Exorium",7089),new F("Ice",817),new F("Karnite",4749),new F("Kutonium",22950),new F("Lukium",24e3),new F("Nhurgite",3340),new F("Surtrite",3850),new F("Valkite",543),new F("Vokarium",2100),new F("Ymrium",31270)];var P=function(){function t(){Object(x["a"])(this,t),this.ores=C.ores.map((function(t){return new D(t.name,t.marketValue)})),this.cash=0}return Object(T["a"])(t,[{key:"totalOreVolume",get:function(){var t=this.sum(this.ores.map((function(t){if(t.totalOre)return t.totalOre;var e=t.fullStackCount*t.stackSize+t.nonFullStackTotalVolume;return Number(e.toFixed(0))})));return t}},{key:"totalOreValue",get:function(){return this.sum(this.ores.map((function(t){if(t.totalMarketValue)return t.totalMarketValue;var e=t.fullStackCount*t.stackSize+t.nonFullStackTotalVolume,n=e/t.stackSize*t.marketValue;return Number(n.toFixed(0))})))}},{key:"sum",value:function(t){return t.reduce((function(t,e){return t+e}))}}]),t}(),D=function(t){Object(I["a"])(n,t);var e=Object(A["a"])(n);function n(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(x["a"])(this,n),o=e.call(this,t,r),o.fullStackCount=0,o.nonFullStackTotalVolume=0,o._totalOre=0,o}return Object(T["a"])(n,[{key:"totalOre",get:function(){return console.log(this.fullStackCount,this.stackSize,this.nonFullStackTotalVolume),this._totalOre=this.fullStackCount*this.stackSize+this.nonFullStackTotalVolume,this._totalOre}},{key:"totalMarketValue",get:function(){return this.totalOre/this.stackSize*this.marketValue}}]),n}(F),L=function(){function t(e,n){Object(x["a"])(this,t),this.inventoryA=e,this.inventoryB=n}return Object(T["a"])(t,[{key:"totalOreValue",get:function(){return this.inventoryA.totalOreValue-this.inventoryB.totalOreValue}},{key:"totalOreVolume",get:function(){return this.inventoryA.totalOreVolume-this.inventoryB.totalOreVolume}},{key:"oreArray",get:function(){var t=this;return this.inventoryA.ores.map((function(e,n){var o=new D(e.name,e.marketValue);o.nonFullStackTotalVolume=e.nonFullStackTotalVolume,o.fullStackCount=e.fullStackCount;var r=t.inventoryB.ores[n];return o.fullStackCount-=r.fullStackCount,o.nonFullStackTotalVolume=e.nonFullStackTotalVolume-r.nonFullStackTotalVolume,o}))}},{key:"cash",get:function(){return this.inventoryA.cash-this.inventoryB.cash}}]),t}(),U=Object(o["i"])({name:"OreTable",data:function(){var t;return{playerInventory:null!==(t=this.inventory)&&void 0!==t?t:new P}},props:{inventory:Object},methods:{formatNumber:function(t){return t?t.toFixed(0):0}}});U.render=N;var B=U,_={class:"container-fluid"},M={class:"form-floating m-2"},z=Object(o["g"])("label",{for:"floatingInput"},"Ship Price",-1),E={key:0,class:"container-fluid"},q={class:"row"},J={class:"col-7"},K={class:"form-floating m-2"},H=Object(o["g"])("label",{for:"floatingInput"},"Ship Name",-1),R={class:"col-5 d-flex align-items-center justify-content-end"},Y={class:"btn-group mt-2"},G={class:"container-fluid"},Q={key:0,class:"d-flex w-100"},W=Object(o["g"])("option",{disabled:"",value:""},"Please select one",-1),X={class:"table table-striped"},Z=Object(o["g"])("thead",null,[Object(o["g"])("tr",null,[Object(o["g"])("th",null,"Name"),Object(o["g"])("th",null,"Full Stack Count"),Object(o["g"])("th",null,"Extra Volume"),Object(o["g"])("th",null,"Total Ore"),Object(o["g"])("th",null,"Total Value")])],-1),$=["onUpdate:modelValue"],tt=["onUpdate:modelValue"];function et(t,e,n,r,a,l){return Object(o["r"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("div",_,[Object(o["g"])("div",M,[Object(o["F"])(Object(o["g"])("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.shipInventory.cash=e}),class:"form-control",id:"floatingInput"},null,512),[[o["D"],t.shipInventory.cash]]),z])]),t.showLoadDialog?Object(o["e"])("",!0):(Object(o["r"])(),Object(o["f"])("div",E,[Object(o["g"])("div",q,[Object(o["g"])("div",J,[Object(o["g"])("div",K,[Object(o["F"])(Object(o["g"])("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.shipName=e}),class:"form-control",id:"floatingInput"},null,512),[[o["D"],t.shipName]]),H])]),Object(o["g"])("div",R,[Object(o["g"])("div",Y,[Object(o["g"])("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(e){return t.saveShip()})},"Save Ship"),Object(o["g"])("button",{class:"btn btn-secondary",onClick:e[3]||(e[3]=function(e){return t.showLoadShipDialog()})},"Load Ship")])])])])),Object(o["g"])("div",G,[t.showLoadDialog?(Object(o["r"])(),Object(o["f"])("div",Q,[Object(o["F"])(Object(o["g"])("select",{"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.shipToLoad=e}),class:"form-select m-2",onChange:e[5]||(e[5]=function(e){return t.loadShip(t.shipToLoad)})},[W,(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(t.shipNameArray,(function(t){return Object(o["r"])(),Object(o["f"])("option",{key:t},Object(o["A"])(t),1)})),128))],544),[[o["C"],t.shipToLoad]])])):Object(o["e"])("",!0)]),Object(o["g"])("ul",null,[Object(o["g"])("li",null," Ship total ore cost: "+Object(o["A"])(t.formatNumber(t.shipInventory.totalOreVolume)),1),Object(o["g"])("li",null," Ship total ore value: "+Object(o["A"])(t.formatNumber(t.shipInventory.totalOreValue)),1)]),Object(o["g"])("table",X,[Z,Object(o["g"])("tbody",null,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(t.shipInventory.ores,(function(e){return Object(o["r"])(),Object(o["f"])("tr",{key:e},[Object(o["g"])("td",null,Object(o["A"])(e.name),1),Object(o["g"])("td",null,[Object(o["F"])(Object(o["g"])("input",{class:"form-control form-control-sm",type:"number","onUpdate:modelValue":function(t){return e.fullStackCount=t}},null,8,$),[[o["D"],e.fullStackCount]])]),Object(o["g"])("td",null,[Object(o["F"])(Object(o["g"])("input",{class:"form-control form-control-sm",type:"number","onUpdate:modelValue":function(t){return e.nonFullStackTotalVolume=t}},null,8,tt),[[o["D"],e.nonFullStackTotalVolume]])]),Object(o["g"])("td",null,Object(o["A"])(t.formatNumber(e.totalOre)),1),Object(o["g"])("td",null,Object(o["A"])(t.formatNumber(e.totalMarketValue)),1)])})),128))])])],64)}n("25f0");var nt=function t(e,n){Object(x["a"])(this,t),this.shipName=e,this.data=JSON.stringify(n)},ot=n("b85c"),rt=function(){function t(){Object(x["a"])(this,t),this.dbName="sb-inv-db",this.version=1,this.db=null,this.dbStores=[new at("ShipLocalStores","shipName",[new lt("shipName",!0)])]}return Object(T["a"])(t,[{key:"initDatabase",value:function(){var t=this;return new Promise((function(e,n){var o=indexedDB.open(t.dbName,t.version);o.onerror=function(t){n(t)},o.onupgradeneeded=function(o){t.addStores(o).then((function(){e(null)}),(function(t){n(t)}))},o.onsuccess=function(n){t.db=o.result,console.log("opened db successfully",t.db),e(null)}}))}},{key:"addStores",value:function(t){var e=this;return new Promise((function(n,o){if(t)if(e.db=t.target.result,e.db){var r,a=Object(ot["a"])(e.dbStores);try{for(a.s();!(r=a.n()).done;){var l,c=r.value,u=e.db.createObjectStore(c.storeName,{keyPath:c.keyPath}),i=Object(ot["a"])(c.indexes);try{for(i.s();!(l=i.n()).done;){var s=l.value;u.createIndex(s.name,s.name,{unique:s.isUnique})}}catch(b){i.e(b)}finally{i.f()}}}catch(b){a.e(b)}finally{a.f()}n(null)}else o("db is null or undefined")}))}},{key:"getStore",value:function(t,e){var n,o=null===(n=this.db)||void 0===n?void 0:n.transaction(t,e);return null===o||void 0===o?void 0:o.objectStore(t)}},{key:"getStoredObjectByIndex",value:function(t,e){return new Promise((function(n,o){var r=t.get(e);r.onerror=function(t){console.error(t),o(t)},r.onsuccess=function(t){console.log(r.result),r.result?n(r.result):n(null)}}))}},{key:"saveObject",value:function(t,e,n){var o=this;return new Promise((function(r,a){o.getStoredObjectByIndex(t,e).then((function(o){var l=void 0;o?l=t.put(n):(console.log("adding by index: "+e,n),l=t.add(n)),l?(l.onsuccess=function(t){r(null)},l.onerror=function(t){a(t)}):a("failed getting result on save")}))}))}}]),t}(),at=function t(e,n,o){Object(x["a"])(this,t),this.storeName=e,this.indexes=o,this.keyPath=n},lt=function t(e,n){Object(x["a"])(this,t),this.name=e,this.isUnique=n},ct=Object(o["i"])({name:"ShipPurchase",data:function(){var t;return{shipInventory:null!==(t=this.inventory)&&void 0!==t?t:new P,shipName:"",showLoadDialog:!1,shipNameArray:[],shipToLoad:""}},props:{inventory:Object},methods:{formatNumber:function(t){return t?t.toFixed(0):0},showLoadShipDialog:function(){var t=this;this.getShipNames().then((function(){t.showLoadDialog=!0}))},saveShip:function(){var t=this,e=this.shipInventory,n=new nt(this.shipName,e),o=new rt;o.initDatabase().then((function(){var e=o.getStore("ShipLocalStores","readwrite");e&&o.saveObject(e,t.shipName,n)}),(function(t){console.error("failed to save ship - error in init database",t)}))},getShipNames:function(){var t=this;return new Promise((function(e,n){var o=new rt;o.initDatabase().then((function(){var r=o.getStore("ShipLocalStores","readonly");if(r){var a=r.getAllKeys();a.onsuccess=function(n){t.shipNameArray=a.result.map((function(t){return t.toString()})),e(null)},a.onerror=function(t){console.error("error getting ship names",t),n()}}}),(function(t){console.error("failed to load ship - error in init database",t),n()}))}))},loadShip:function(t){var e=this,n=new rt;n.initDatabase().then((function(){var o=n.getStore("ShipLocalStores","readonly");o&&n.getStoredObjectByIndex(o,t).then((function(t){if(t){var n=JSON.parse(t.data);e.shipInventory.cash=n.cash,e.shipInventory.ores=n.ores,e.shipName=t.shipName,e.showLoadDialog=!1}}),(function(t){console.error("unable to load ship",t)}))}),(function(t){console.error("failed to load ship - error in init database",t)}))}}});ct.render=et;var ut=ct,it={class:"form-floating m-2"},st=Object(o["g"])("label",{for:"floatingInput"},"Balance After Purchase",-1),bt={class:"table table-striped"},dt=Object(o["g"])("thead",null,[Object(o["g"])("tr",null,[Object(o["g"])("th",null,"Name"),Object(o["g"])("th",null,"Full Stack Count"),Object(o["g"])("th",null,"Extra Volume"),Object(o["g"])("th",null,"Total Ore"),Object(o["g"])("th",null,"Total Value")])],-1);function ft(t,e,n,r,a,l){return Object(o["r"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("div",it,[Object(o["F"])(Object(o["g"])("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=function(e){return t.compare.cash=e}),class:Object(o["n"])(["form-control",{"is-invalid":t.compare.cash<0,"is-valid":t.compare.cash>0}]),id:"floatingInput",disabled:""},null,2),[[o["D"],t.compare.cash]]),st]),Object(o["g"])("ul",null,[Object(o["g"])("li",null," Total ore volume remaining: "+Object(o["A"])(t.formatNumber(t.compare.totalOreVolume)),1),Object(o["g"])("li",null," Total ore value remaining: "+Object(o["A"])(t.formatNumber(t.compare.totalOreValue)),1)]),Object(o["g"])("table",bt,[dt,Object(o["g"])("tbody",null,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(t.compare.oreArray,(function(e){return Object(o["r"])(),Object(o["f"])("tr",{key:e,class:Object(o["n"])({"text-danger":e.totalOre<0,"text-success":e.totalOre>0})},[Object(o["g"])("td",null,Object(o["A"])(e.name),1),Object(o["g"])("td",null,Object(o["A"])(e.fullStackCount),1),Object(o["g"])("td",null,Object(o["A"])(e.nonFullStackTotalVolume),1),Object(o["g"])("td",null,Object(o["A"])(t.formatNumber(e.totalOre)),1),Object(o["g"])("td",null,Object(o["A"])(t.formatNumber(e.totalMarketValue)),1)],2)})),128))])])],64)}var Ot=Object(o["i"])({name:"InventoryCompare",data:function(){return{compare:new L(this.inventoryA,this.inventoryB)}},props:{inventoryA:Object,inventoryB:Object},methods:{formatNumber:function(t){return t?t.toFixed(0):0}}});Ot.render=ft;var mt=Ot,ht=Object(o["i"])({name:"Home",components:{OreTable:B,ShipPurchase:ut,InventoryCompare:mt},data:function(){return{playerInventory:new P,shipInventory:new P,differenceInventory:new P,market:C}}});n("0ae1");ht.render=v,ht.__scopeId="data-v-70f73c4a";var jt=ht,pt=[{path:"/",name:"Home",component:jt},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],vt=Object(c["a"])({history:Object(c["b"])(),routes:pt}),gt=vt;n("7b17");Object(o["c"])(l).use(gt).mount("#app")}});