{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Home.vue?61ee","webpack:///./src/App.vue?7a61","webpack:///./src/assets/credit.png","webpack:///./src/App.vue","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Home.vue","webpack:///./src/components/OreTable.vue","webpack:///./src/data/classes/Ore.ts","webpack:///./src/data/classes/OreHistoryItem.ts","webpack:///./src/data/classes/Market.ts","webpack:///./src/data/classes/PlayerInventory.ts","webpack:///./src/data/classes/GenericLocalStore.ts","webpack:///./src/components/OreTable.vue?f118","webpack:///./src/components/OreTable.vue?295b","webpack:///./src/components/ShipPurchase.vue","webpack:///./src/data/classes/ShipLocalStore.ts","webpack:///./src/components/ShipPurchase.vue?940e","webpack:///./src/components/ShipPurchase.vue?2dd1","webpack:///./src/components/InventoryCompare.vue","webpack:///./src/components/InventoryCompare.vue?0b17","webpack:///./src/components/InventoryCompare.vue?8807","webpack:///./src/components/Market.vue","webpack:///./src/components/Market.vue?2f2b","webpack:///./src/components/Market.vue?b64a","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/router/index.ts","webpack:///./src/data/classes/IndexedDb/DbContext.ts","webpack:///./src/data/classes/StringHelper.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","render","class","id","role","data-bs-toggle","data-bs-target","aria-controls","aria-selected","aria-labelledby","market","lastUpdate","inventory","playerInventory","shipInventory","inventoryA","inventoryB","updateOreValues","for","width","cash","formatNumber","totalOreVolume","totalOreStacks","totalOreValue","savePlayerInventory","getPlayerInventory","ores","ore","marketValue","fullStackCount","nonFullStackTotalVolume","totalOre","totalMarketValue","stackSize","this","oreArray","date","Date","oreHistory","tick","createdDate","now","map","x","updateOres","forEach","find","getTotalOreVolume","sum","Number","toFixed","getTotalOreValue","totalValue","arr","reduce","accumulator","currentValue","_totalOre","getTotalOre","getTotalMarketValue","a","index","b","totalVolume","stackString","toString","split","JSON","stringify","props","methods","$stringHelper","db","$dbContext","store","getStore","count","onsuccess","ev","getStoredObjectByIndex","then","inv","parse","match","add","log","put","disabled","showLoadDialog","shipName","saveShip","showLoadShipDialog","shipToLoad","loadShip","shipNameArray","ShipLocalStore","shipData","getShipNames","alert","context","shipLocalStore","initDatabase","saveObject","query","getAllKeys","compare","numberToKvString","oreTable","update","$emit","emits","components","OreTable","ShipPurchase","InventoryCompare","MarketComponent","differenceInventory","__scopeId","routes","path","component","Home","router","history","tableName","keyPath","indexes","autoIncrement","storeName","isUnique","dbName","version","dbStores","indexedDB","open","onupgradeneeded","addStores","localPromises","existingStores","objectStoreNames","res","rej","contains","createObjectStore","objStore","createIndex","unique","transaction","objectStore","obj","n1","app","App","config","globalProperties","use","mount"],"mappings":"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","file":"js/app.881c84ca.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"31293421\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/starbase-inventory-manager/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=1092a1f2&scoped=true&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=76496f7d&lang=scss\"","module.exports = \"data:image/png;base64,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\"","<template>\n  <!--<div id=\"nav\">\n    <router-link to=\"/\">Home</router-link> |\n    <router-link to=\"/about\">About</router-link>\n  </div>-->\n  <router-view/>\n</template>\n\n<style lang=\"scss\">\n/*#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n  color: #42b983;\n}*/\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=76496f7d\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=76496f7d&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"home container-fluid\">\n\t\t<p>Prices last updated: {{market.lastUpdate}}</p>\t\n\t\t<div class=\"d-flex flex-wrap\">\n\t\t\t<div class=\"col-12 col-md-6 col-lg-4\">\n\t\t\t\t<div class=\"card  me-2\" id=\"pi-card\">\n\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\tPlayer Inventory\n\t\t\t\t\t</div>\n\t\t\t\t\t<OreTable :inventory=\"playerInventory\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-12 col-md-6 col-lg-4\">\n\t\t\t\t<div class=\"card me-2\" id=\"s-card\">\n\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\tShip\n\t\t\t\t\t</div>\n\t\t\t\t\t<ShipPurchase :inventory=\"shipInventory\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-12 col-md-12 col-lg-4\">\n\t\t\t\t<div class=\"card me-2\" id=\"c-card\">\n\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\tRemaining\n\t\t\t\t\t</div>\n\t\t\t\t\t<InventoryCompare :inventoryA=\"playerInventory\" :inventoryB=\"shipInventory\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\n\t\t</div>\n\t\t<ul class=\"nav nav-tabs mt-4\" id=\"myTab\" role=\"tablist\">\n\t\t\t<li class=\"nav-item\" role=\"presentation\">\n\t\t\t\t<button class=\"nav-link active\" id=\"market-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#market\" type=\"button\" role=\"tab\" aria-controls=\"market\" aria-selected=\"true\">Edit Market Values</button>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<div class=\"tab-content\" id=\"myTabContent\">\n\t\t\t<div class=\"tab-pane fade show active\" id=\"market\" role=\"tabpanel\" aria-labelledby=\"market-tab\">\n\t\t\t\t<div class=\"container-fluid\">\n\t\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t\t<MarketComponent class=\"p-2\" @updateOres=\"updateOreValues()\"></MarketComponent>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script lang=\"ts\">\n\timport OreTable from '@/components/OreTable.vue';\n\timport { defineComponent } from 'vue';\n\timport PlayerInventory from '@/data/classes/PlayerInventory';\n\timport ShipPurchase from '@/components/ShipPurchase.vue';\n\timport InventoryCompare from '@/components/InventoryCompare.vue';\n\timport Market from '../data/classes/Market';\r\n\timport MarketComponent from '@/components/Market.vue';\r\n\n\n\texport default defineComponent({\n\t\tname: \"Home\",\n\t\tcomponents: {\n\t\t\tOreTable,\n\t\t\tShipPurchase,\n\t\t\tInventoryCompare,\n\t\t\tMarketComponent\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tplayerInventory: new PlayerInventory(),\n\t\t\t\tshipInventory: new PlayerInventory(),\n\t\t\t\tdifferenceInventory: new PlayerInventory(),\n\t\t\t\tmarket: Market\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdateOreValues() {\r\n\t\t\t\tthis.playerInventory.updateOres();\r\n\t\t\t\tthis.shipInventory.updateOres();\r\n\t\t\t},\n\t\t}\n\t})\n</script>\n\n<style scoped lang=\"scss\">\r\n\t.text-vertical {\r\n\t\tdisplay: inline-block;\r\n\t\t/*transform-origin: 0 0;*/\r\n\t\twidth: 200px;\r\n\t\ttransform: rotate(270deg);\r\n\t\tleft: -70px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.stupid-btn {\r\n\t\tpadding: 0;\r\n\t\tline-height: 20px;\r\n\t\twidth: 60px;\r\n\t}\n</style>\n","<template>\r\n\r\n\r\n\t<div class=\"container-fluid inventory-card\">\r\n\t\t<div class=\"form-floating m-2\">\r\n\t\t\t<input type=\"number\" v-model=\"playerInventory.cash\" class=\"form-control\" id=\"floatingInput\">\r\n\t\t\t<label for=\"floatingInput\">Player Cash Balance</label>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"row m-2 mt-3\">\r\n\t\t\t<div class=\"card \">\r\n\t\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t\t<span>Inventory total ore: </span>\r\n\t\t\t\t\t<span>{{formatNumber(playerInventory.totalOreVolume)}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t\t<span>Inventory total ore stacks: </span>\r\n\t\t\t\t\t<span>{{formatNumber(playerInventory.totalOreStacks)}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t\t<span>Inventory total value:</span>\r\n\t\t\t\t\t<span>{{formatNumber(playerInventory.totalOreValue)}} <img src=\"../assets/credit.png\" /></span>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"row m-1\">\r\n\t\t\t<div class=\"col-12 d-flex align-items-center justify-content-end\">\r\n\t\t\t\t<div class=\"btn-group mt-2\">\r\n\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"savePlayerInventory()\">Save</button>\r\n\t\t\t\t\t<button class=\"btn btn-secondary\" @click=\"getPlayerInventory()\">Load Inventory Data</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t</div>\r\n\r\n\t<div class=\"table-responsive\">\r\n\t\t<table class=\"table table-sm table-striped w-100\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t<th>Value</th>\r\n\t\t\t\t\t<th>Stacks</th>\r\n\t\t\t\t\t<th>Extra Volume</th>\r\n\t\t\t\t\t<th>Total Ore</th>\r\n\t\t\t\t\t<th>Total <img src=\"../assets/credit.png\" /></th>\r\n\t\t\t\t</tr>\r\n\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr class=\"align-middle\" v-for=\"ore in playerInventory.ores\" :key=\"ore\">\r\n\t\t\t\t\t<td>{{ore.name}}</td>\r\n\t\t\t\t\t<td>{{ore.marketValue}}</td>\r\n\t\t\t\t\t<td width=\"15%\">\r\n\t\t\t\t\t\t<input class=\"form-control form-control-sm\" type=\"number\" v-model=\"ore.fullStackCount\" />\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<input class=\"form-control form-control-sm\" type=\"number\" v-model=\"ore.nonFullStackTotalVolume\" />\r\n\t\t\t\t\t\t<!--{{ore.nonFullStackTotalVolume}}-->\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.totalOre)}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.totalMarketValue)}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t\r\n</template>\r\n<script lang=\"ts\">\r\n\timport { defineComponent } from 'vue';\r\n\timport PlayerInventory from '@/data/classes/PlayerInventory';\r\n\timport GenericLocalStore from '../data/classes/GenericLocalStore';\r\nimport Market from '../data/classes/Market';\r\n\texport default defineComponent({\r\n\t\tname: 'OreTable',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tplayerInventory: (this.inventory ?? new PlayerInventory()) as PlayerInventory\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tinventory: Object\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(n: number) {\r\n\t\t\t\treturn this.$stringHelper.formatNumber(n);\r\n\t\t\t},\r\n\t\t\tgetPlayerInventory() {\r\n\t\t\t\tconst db = this.$dbContext;\r\n\r\n\t\t\t\tconst store = db.getStore(\"PlayerInventory\", \"readonly\");\r\n\t\t\t\tif (store) {\r\n\t\t\t\t\tconst count = store.count(undefined);\r\n\r\n\t\t\t\t\tcount.onsuccess = (ev) => {\r\n\t\t\t\t\t\tconst index = 1;\r\n\r\n\t\t\t\t\t\tdb.getStoredObjectByIndex<GenericLocalStore>(store, index)\r\n\t\t\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\t\t\tif (result) {\r\n\r\n\t\t\t\t\t\t\t\t\tconst inv = JSON.parse(result.data) as PlayerInventory;\r\n\t\t\t\t\t\t\t\t\tfor (const ore of this.playerInventory.ores) {\r\n\t\t\t\t\t\t\t\t\t\tconst match = inv.ores.find(x => x.name === ore.name);\r\n\r\n\t\t\t\t\t\t\t\t\t\tore.fullStackCount = match?.fullStackCount ?? ore.fullStackCount;\r\n\t\t\t\t\t\t\t\t\t\tore.nonFullStackTotalVolume = match?.nonFullStackTotalVolume ?? ore.nonFullStackTotalVolume;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.playerInventory.cash = inv?.cash ?? this.playerInventory.cash;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcount.onerror = (ev) => {\r\n\t\t\t\t\t\tconsole.error('count error', ev);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(console.error('unable to get store'))\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsavePlayerInventory() {\r\n\t\t\t\tconst db = this.$dbContext;\r\n\t\t\t\tconst store = db.getStore(\"PlayerInventory\", \"readwrite\");\r\n\t\t\t\tif (store) {\r\n\t\t\t\t\tconst count = store.count();\r\n\r\n\t\t\t\t\tcount.onsuccess = ev => {\r\n\t\t\t\t\t\tconst data = new GenericLocalStore(this.playerInventory);\r\n\r\n\t\t\t\t\t\tif (count.result === 0) {\r\n\t\t\t\t\t\t\tconst request = store.add(data);\r\n\r\n\t\t\t\t\t\t\trequest.onsuccess = ev => {\r\n\t\t\t\t\t\t\t\tconsole.log('saved player inventory!')\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trequest.onerror = ev => {\r\n\t\t\t\t\t\t\t\tconsole.error('error saving player inventory', ev);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tstore.put(data, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(console.error('unable to get store'))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t})\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","export default class Ore {\r\n    \r\n    public constructor(name: string, marketValue = 0){\r\n        this.name = name;\r\n        this.marketValue = marketValue;\r\n    }\r\n\r\n    name : string;\r\n    stackSize = 1728000;\r\n    marketValue: number;\r\n}","import Ore from \"@/data/classes/Ore\"\r\n\r\nexport default class OreHistoryItem {\r\n\tconstructor(oreArray: Ore[], date: Date) {\r\n\t\tthis.oreArray = oreArray;\r\n\t\tthis.date = date;\r\n\t}\r\n\r\n\toreArray: Ore[];\r\n\tdate: Date;\r\n}","import Ore from \"./Ore\";\r\nimport OreHistoryItem from \"@/data/classes/OreHistoryItem\";\r\n\r\nexport default class Market {\r\n\tstatic lastUpdate = new Date(2021, 7, 26);\r\n\r\n\tstatic ores: Ore[] = [\r\n\t\tnew Ore('Aegisium', 6440),\r\n\t\tnew Ore('Ajatite', 549),\r\n\t\tnew Ore('Arkanium', 12780),\r\n\t\tnew Ore('Bastium', 2050),\r\n\t\tnew Ore('Charodium', 4449),\r\n\t\tnew Ore('Corazium', 21649),\r\n\t\tnew Ore('Exorium', 4644),\r\n\t\tnew Ore('Ice', 817),\r\n\t\tnew Ore('Karnite', 9900),\r\n\t\tnew Ore('Kutonium', 18935),\r\n\t\tnew Ore('Lukium', 20500),\r\n\t\tnew Ore('Nhurgite', 3099),\r\n\t\tnew Ore('Surtrite', 4090),\r\n\t\tnew Ore('Valkite', 545),\r\n\t\tnew Ore('Vokarium', 2040),\r\n\t\tnew Ore('Ymrium', 28399)\r\n\t];\r\n\r\n\tstatic oreHistory: OreHistoryItem[] = [\r\n\t\tnew OreHistoryItem([\r\n\t\t\tnew Ore('Aegisium', 7750),\r\n\t\t\tnew Ore('Ajatite', 548),\r\n\t\t\tnew Ore('Arkanium', 12895),\r\n\t\t\tnew Ore('Bastium', 2495),\r\n\t\t\tnew Ore('Charodium', 4398),\r\n\t\t\tnew Ore('Corazium', 28895),\r\n\t\t\tnew Ore('Exorium', 7089),\r\n\t\t\tnew Ore('Ice', 817),\r\n\t\t\tnew Ore('Karnite', 4749),\r\n\t\t\tnew Ore('Kutonium', 22950),\r\n\t\t\tnew Ore('Lukium', 24000),\r\n\t\t\tnew Ore('Nhurgite', 3340),\r\n\t\t\tnew Ore('Surtrite', 3850),\r\n\t\t\tnew Ore('Valkite', 543),\r\n\t\t\tnew Ore('Vokarium', 2100),\r\n\t\t\tnew Ore('Ymrium', 31270)\r\n\t\t], new Date(2021, 7, 23))\r\n\t];\r\n}","import Market from \"./Market\";\r\nimport Ore from \"./Ore\";\r\n\r\nexport default class PlayerInventory {\r\n\tconstructor() {\r\n\t\tthis.ores = Market.ores.map(x => new PlayerOwnedOre(x.name, x.marketValue));\r\n\t\tthis.cash = 0;\r\n\t\tthis.updateOres();\r\n\t}\r\n\r\n\tprivate tick =  0;\r\n\t//private startUpdating() {\r\n\t//\trequestAnimationFrame(() => this.updateOres());\r\n\t//}\r\n\r\n\tupdateOres() {\r\n\t\tthis.ores.forEach(x => {\r\n\t\t\tconst m = Market.ores.find(o => o.name === x.name);\r\n\t\t\tif (m) {\r\n\t\t\t\tx.marketValue = m.marketValue;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\treadonly createdDate = new Date(Date.now());\r\n\tores: PlayerOwnedOre[];\r\n\tcash: number;\r\n\tget totalOreVolume(): number {\r\n\t\treturn this.getTotalOreVolume();\r\n\t}\r\n\r\n\tgetTotalOreVolume(): number {\r\n\t\tconst r = this.sum(this.ores.map(x => {\r\n\t\t\tif (x.totalOre && x.totalOre > 0) {\r\n\t\t\t\treturn x.totalOre;\r\n\t\t\t} else {\r\n\t\t\t\tconst totalOre = (x.fullStackCount * x.stackSize) + x.nonFullStackTotalVolume;\r\n\t\t\t\tconst t = Number(totalOre) ?? 0;\r\n\t\t\t\treturn Number(t.toFixed(0) ?? 0);\r\n\t\t\t}\r\n\r\n\t\t}));\r\n\t\treturn r;\r\n\t}\r\n\r\n\tget totalOreValue(): number {\r\n\t\treturn this.getTotalOreValue();\r\n\t}\r\n\r\n\tgetTotalOreValue(): number {\r\n\t\treturn this.sum(this.ores.map(x => {\r\n\t\t\tif (x.totalMarketValue && x.totalMarketValue > 0) {\r\n\t\t\t\treturn x.totalMarketValue;\r\n\t\t\t} else {\r\n\t\t\t\tconst totalOre = (x.fullStackCount * x.stackSize) + x.nonFullStackTotalVolume;\r\n\t\t\t\tconst totalValue = (totalOre / x.stackSize) * x.marketValue;\r\n\t\t\t\tconst t = Number(totalValue) ?? 0;\r\n\t\t\t\treturn Number(t.toFixed(0) ?? 0);\r\n\t\t\t}\r\n\t\t}));\r\n\t}\r\n\r\n\tget totalOreStacks(): number {\r\n\t\tconst n = this.totalOreVolume / this.ores[0].stackSize;\r\n\t\treturn n ?? 0;\r\n\t}\r\n\r\n\tprivate sum(arr: number[]) {\r\n\t\treturn arr.reduce((accumulator, currentValue) => accumulator + currentValue);\r\n\t}\r\n}\r\n\r\nexport class PlayerOwnedOre extends Ore {\r\n\tconstructor(name: string, marketValue = 0) {\r\n\t\tsuper(name, marketValue);\r\n\t}\r\n\r\n\tfullStackCount = 0;\r\n\tnonFullStackTotalVolume = 0;\r\n\r\n\tprivate _totalOre = 0;\r\n\r\n\tget totalOre() {\r\n\t\treturn this.getTotalOre();\r\n\t}\r\n\r\n\tgetTotalOre() {\r\n\t\tthis._totalOre = (this.fullStackCount * this.stackSize) + this.nonFullStackTotalVolume;\r\n\t\treturn this._totalOre;\r\n\t}\r\n\r\n\t//  set totalOre(value: number) {\r\n\t//this._totalOre = this.totalOre;\r\n\t//  }\r\n\r\n\tget totalMarketValue() {\r\n\t\treturn this.getTotalMarketValue();\r\n\t}\r\n\r\n\tgetTotalMarketValue() {\r\n\t\treturn (this.totalOre / this.stackSize) * this.marketValue;\r\n\t}\r\n}\r\n\r\nexport class InventoryCompare {\r\n\tconstructor(inventoryA: PlayerInventory, inventoryB: PlayerInventory) {\r\n\t\t//this.oreArray = inventoryA.ores.map((a, index) => {\r\n\t\t//\tconst b = inventoryB.ores[index];\r\n\t\t//\ta.fullStackCount -= b.fullStackCount;\r\n\t\t//\ta.nonFullStackTotalVolume -= b.nonFullStackTotalVolume;\r\n\t\t//\treturn a;\r\n\t\t//});\r\n\t\tthis.inventoryA = inventoryA;\r\n\t\tthis.inventoryB = inventoryB;\r\n\t}\r\n\r\n\tinventoryA: PlayerInventory;\r\n\tinventoryB: PlayerInventory;\r\n\tget totalOreValue() : number {\r\n\t\treturn this.inventoryA.totalOreValue - this.inventoryB.totalOreValue;\r\n\t}\r\n\r\n\tget totalOreVolume(): number {\r\n\t\treturn this.inventoryA.totalOreVolume - this.inventoryB.totalOreVolume;\r\n\t}\r\n\r\n\tget totalOreStacks(): number {\r\n\t\treturn this.inventoryA.totalOreStacks - this.inventoryB.totalOreStacks;\r\n\t}\r\n\r\n\tget oreArray(): PlayerOwnedOre[] {\r\n\t\treturn this.inventoryA.ores.map((a, index) => {\r\n\t\t\tconst c = new PlayerOwnedOre(a.name, a.marketValue);\r\n\t\t\tconst b = this.inventoryB.ores[index];\r\n\r\n\t\t\tconst totalVolume = a.totalOre - b.totalOre;\r\n\t\t\tconst stackString = (totalVolume / a.stackSize).toString();\r\n\t\t\tconst split = stackString.split('.');\r\n\r\n\t\t\tc.fullStackCount = Number(split[0]);\r\n\t\t\tc.nonFullStackTotalVolume = split[1] ? Number(`0.${split[1]}`) * a.stackSize : 0;\r\n\r\n\t\t\t//c.nonFullStackTotalVolume = a.nonFullStackTotalVolume;\r\n\t\t\t//c.fullStackCount = a.fullStackCount;\r\n\r\n\t\t\t\r\n\t\t\t//c.fullStackCount -= b.fullStackCount;\r\n\t\t\t//c.nonFullStackTotalVolume = a.nonFullStackTotalVolume - b.nonFullStackTotalVolume;\r\n\t\t\treturn c;\r\n\t\t});\r\n\t}\r\n\r\n\tget cash() : number {\r\n\t\treturn this.inventoryA.cash - this.inventoryB.cash;\r\n\t}\r\n}","import PlayerInventory from '@/data/classes/PlayerInventory'\r\n\r\nexport default class GenericLocalStore {\r\n\tconstructor(data: unknown) {\r\n\t\tthis.data = JSON.stringify(data);\r\n\t}\r\n\r\n\tdata: string;\r\n}","\r\n\timport { defineComponent } from 'vue';\r\n\timport PlayerInventory from '@/data/classes/PlayerInventory';\r\n\timport GenericLocalStore from '../data/classes/GenericLocalStore';\r\nimport Market from '../data/classes/Market';\r\n\texport default defineComponent({\r\n\t\tname: 'OreTable',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tplayerInventory: (this.inventory ?? new PlayerInventory()) as PlayerInventory\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tinventory: Object\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(n: number) {\r\n\t\t\t\treturn this.$stringHelper.formatNumber(n);\r\n\t\t\t},\r\n\t\t\tgetPlayerInventory() {\r\n\t\t\t\tconst db = this.$dbContext;\r\n\r\n\t\t\t\tconst store = db.getStore(\"PlayerInventory\", \"readonly\");\r\n\t\t\t\tif (store) {\r\n\t\t\t\t\tconst count = store.count(undefined);\r\n\r\n\t\t\t\t\tcount.onsuccess = (ev) => {\r\n\t\t\t\t\t\tconst index = 1;\r\n\r\n\t\t\t\t\t\tdb.getStoredObjectByIndex<GenericLocalStore>(store, index)\r\n\t\t\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\t\t\tif (result) {\r\n\r\n\t\t\t\t\t\t\t\t\tconst inv = JSON.parse(result.data) as PlayerInventory;\r\n\t\t\t\t\t\t\t\t\tfor (const ore of this.playerInventory.ores) {\r\n\t\t\t\t\t\t\t\t\t\tconst match = inv.ores.find(x => x.name === ore.name);\r\n\r\n\t\t\t\t\t\t\t\t\t\tore.fullStackCount = match?.fullStackCount ?? ore.fullStackCount;\r\n\t\t\t\t\t\t\t\t\t\tore.nonFullStackTotalVolume = match?.nonFullStackTotalVolume ?? ore.nonFullStackTotalVolume;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.playerInventory.cash = inv?.cash ?? this.playerInventory.cash;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcount.onerror = (ev) => {\r\n\t\t\t\t\t\tconsole.error('count error', ev);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(console.error('unable to get store'))\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsavePlayerInventory() {\r\n\t\t\t\tconst db = this.$dbContext;\r\n\t\t\t\tconst store = db.getStore(\"PlayerInventory\", \"readwrite\");\r\n\t\t\t\tif (store) {\r\n\t\t\t\t\tconst count = store.count();\r\n\r\n\t\t\t\t\tcount.onsuccess = ev => {\r\n\t\t\t\t\t\tconst data = new GenericLocalStore(this.playerInventory);\r\n\r\n\t\t\t\t\t\tif (count.result === 0) {\r\n\t\t\t\t\t\t\tconst request = store.add(data);\r\n\r\n\t\t\t\t\t\t\trequest.onsuccess = ev => {\r\n\t\t\t\t\t\t\t\tconsole.log('saved player inventory!')\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trequest.onerror = ev => {\r\n\t\t\t\t\t\t\t\tconsole.error('error saving player inventory', ev);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tstore.put(data, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(console.error('unable to get store'))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t})\r\n","import { render } from \"./OreTable.vue?vue&type=template&id=799e5ddc\"\nimport script from \"./OreTable.vue?vue&type=script&lang=ts\"\nexport * from \"./OreTable.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"inventory-card\">\r\n\t\t<div class=\"container-fluid\">\r\n\t\t\t<div class=\"form-floating m-2\">\r\n\t\t\t\t<input type=\"number\" v-model=\"shipInventory.cash\" class=\"form-control\" id=\"floatingInput\">\r\n\t\t\t\t<label for=\"floatingInput\">Ship Price</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<div class=\"container-fluid\" v-if=\"!showLoadDialog\">\r\n\t\t\t<div class=\"row\">\r\n\t\t\t\t<div class=\"col-6\">\r\n\t\t\t\t\t<div class=\"form-floating m-2\">\r\n\t\t\t\t\t\t<input type=\"text\" v-model=\"shipName\" class=\"form-control\" id=\"floatingInput\">\r\n\t\t\t\t\t\t<label for=\"floatingInput\">Ship Name</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-6 d-flex align-items-center justify-content-center\">\r\n\t\t\t\t\t<div class=\"btn-group\">\r\n\t\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"saveShip()\">Save Ship</button>\r\n\t\t\t\t\t\t<button class=\"btn btn-secondary\" @click=\"showLoadShipDialog()\">Load Ship</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"container-fluid\">\r\n\t\t\t<div class=\"d-flex w-100\" v-if=\"showLoadDialog\">\r\n\t\t\t\t<select v-model=\"shipToLoad\" class=\"form-select m-2\" @change=\"loadShip(shipToLoad)\">\r\n\t\t\t\t\t<option disabled value=\"\">Please select one</option>\r\n\t\t\t\t\t<option v-for=\"name in shipNameArray\" :key=\"name\">{{name}}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"container-fluid\">\r\n\t\t\t<div class=\"card m-2 px-2\">\r\n\t\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t\t<span>Ship total ore cost: </span>\r\n\t\t\t\t\t<span>{{formatNumber(shipInventory.totalOreVolume)}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t\t<span>Ship total ore stacks:</span>\r\n\t\t\t\t\t<span>{{formatNumber(shipInventory.totalOreStacks)}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t\t<span>Ship total ore value: </span>\r\n\t\t\t\t\t<span>{{formatNumber(shipInventory.totalOreValue)}}<img src=\"../assets/credit.png\" /></span>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t\r\n\t<div class=\"table-responsive\">\r\n\t\t<table class=\"table table-sm table-striped w-100\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t<!--<th>Stack Value</th>-->\r\n\t\t\t\t\t<th>Stacks</th>\r\n\t\t\t\t\t<th>Extra Volume</th>\r\n\t\t\t\t\t<th>Total Ore</th>\r\n\t\t\t\t\t<th>Total <img src=\"../assets/credit.png\" /></th>\r\n\t\t\t\t</tr>\r\n\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr class=\"align-middle\" v-for=\"ore in shipInventory.ores\" :key=\"ore\">\r\n\t\t\t\t\t<td>{{ore.name}}</td>\r\n\t\t\t\t\t<!--<td>{{ore.marketValue}}</td>-->\r\n\t\t\t\t\t<td width=\"15%\">\r\n\t\t\t\t\t\t<input class=\"form-control form-control-sm\" type=\"number\" v-model=\"ore.fullStackCount\" />\r\n\r\n\t\t\t\t\t\t<!--{{ore.fullStackCount}}-->\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<input class=\"form-control form-control-sm\" type=\"number\" v-model=\"ore.nonFullStackTotalVolume\" />\r\n\t\t\t\t\t\t<!--{{ore.nonFullStackTotalVolume}}-->\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.totalOre)}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.totalMarketValue)}}\r\n\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t\r\n</template>\r\n<script lang=\"ts\">\r\n\timport { defineComponent, inject } from 'vue';\r\n\timport PlayerInventory, { PlayerOwnedOre } from '@/data/classes/PlayerInventory';\r\n\timport ShipLocalStore from '../data/classes/ShipLocalStore';\r\n\texport default defineComponent({\r\n\t\tname: 'ShipPurchase',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshipInventory: (this.inventory ?? new PlayerInventory()) as PlayerInventory,\r\n\t\t\t\tshipName: '',\r\n\t\t\t\tshowLoadDialog: false,\r\n\t\t\t\tshipNameArray: [] as string[],\r\n\t\t\t\tshipToLoad: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tinventory: Object\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(n: number) {\r\n\t\t\t\treturn this.$stringHelper.formatNumber(n);\r\n\t\t\t},\r\n\t\t\tshowLoadShipDialog() {\r\n\t\t\t\tthis.getShipNames().then(() => {\r\n\t\t\t\t\tif (this.shipNameArray.length > 0) {\r\n\t\t\t\t\t\tthis.showLoadDialog = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('No saved ships!');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsaveShip() {\r\n\t\t\t\tconst context = this.$dbContext;\r\n\t\t\t\tconst inv = this.shipInventory as PlayerInventory;\r\n\t\t\t\tconst shipLocalStore = new ShipLocalStore(this.shipName, inv);\r\n\t\t\t\tcontext.initDatabase().then(() => {\r\n\t\t\t\t\tconst store = context.getStore(\"ShipLocalStores\", \"readwrite\");\r\n\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\tcontext.saveObject(store, this.shipName, shipLocalStore);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.error('failed to save ship - error in init database', error)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetShipNames() {\r\n\t\t\t\tconst context = this.$dbContext;\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tcontext.initDatabase().then(() => {\r\n\t\t\t\t\t\tconst store = context.getStore(\"ShipLocalStores\", \"readonly\");\r\n\t\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\t\tconst query = store.getAllKeys();\r\n\t\t\t\t\t\t\tquery.onsuccess = ev => {\r\n\t\t\t\t\t\t\t\tthis.shipNameArray = query.result.map(x => x.toString());\r\n\t\t\t\t\t\t\t\tresolve(null);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tquery.onerror = ev => {\r\n\t\t\t\t\t\t\t\tconsole.error('error getting ship names', ev);\r\n\t\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tconsole.error('failed to load ship - error in init database', error);\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tloadShip(shipName: string) {\r\n\t\t\t\tconst context = this.$dbContext;\r\n\t\t\t\tcontext.initDatabase().then(() => {\r\n\t\t\t\t\tconst store = context.getStore(\"ShipLocalStores\", \"readonly\");\r\n\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\tcontext.getStoredObjectByIndex<ShipLocalStore>(store, shipName).then(result => {\r\n\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\tconst data = JSON.parse(result.data) as PlayerInventory;\r\n\t\t\t\t\t\t\t\tthis.shipInventory.cash = data.cash;\r\n\t\t\t\t\t\t\t\tthis.shipInventory.ores = data.ores;\r\n\t\t\t\t\t\t\t\tthis.shipName = result.shipName;\r\n\t\t\t\t\t\t\t\tthis.showLoadDialog = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror => {\r\n\t\t\t\t\t\t\t\tconsole.error('unable to load ship', error);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.error('failed to load ship - error in init database', error)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import _classCallCheck from \"D:/source/repos/starbase-inventory-manager/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\n\nvar ShipLocalStore = function ShipLocalStore(shipName, shipData) {\n  _classCallCheck(this, ShipLocalStore);\n\n  this.shipName = shipName;\n  this.data = JSON.stringify(shipData);\n};\n\nexport { ShipLocalStore as default };","\r\n\timport { defineComponent, inject } from 'vue';\r\n\timport PlayerInventory, { PlayerOwnedOre } from '@/data/classes/PlayerInventory';\r\n\timport ShipLocalStore from '../data/classes/ShipLocalStore';\r\n\texport default defineComponent({\r\n\t\tname: 'ShipPurchase',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshipInventory: (this.inventory ?? new PlayerInventory()) as PlayerInventory,\r\n\t\t\t\tshipName: '',\r\n\t\t\t\tshowLoadDialog: false,\r\n\t\t\t\tshipNameArray: [] as string[],\r\n\t\t\t\tshipToLoad: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tinventory: Object\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(n: number) {\r\n\t\t\t\treturn this.$stringHelper.formatNumber(n);\r\n\t\t\t},\r\n\t\t\tshowLoadShipDialog() {\r\n\t\t\t\tthis.getShipNames().then(() => {\r\n\t\t\t\t\tif (this.shipNameArray.length > 0) {\r\n\t\t\t\t\t\tthis.showLoadDialog = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert('No saved ships!');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsaveShip() {\r\n\t\t\t\tconst context = this.$dbContext;\r\n\t\t\t\tconst inv = this.shipInventory as PlayerInventory;\r\n\t\t\t\tconst shipLocalStore = new ShipLocalStore(this.shipName, inv);\r\n\t\t\t\tcontext.initDatabase().then(() => {\r\n\t\t\t\t\tconst store = context.getStore(\"ShipLocalStores\", \"readwrite\");\r\n\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\tcontext.saveObject(store, this.shipName, shipLocalStore);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.error('failed to save ship - error in init database', error)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetShipNames() {\r\n\t\t\t\tconst context = this.$dbContext;\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tcontext.initDatabase().then(() => {\r\n\t\t\t\t\t\tconst store = context.getStore(\"ShipLocalStores\", \"readonly\");\r\n\t\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\t\tconst query = store.getAllKeys();\r\n\t\t\t\t\t\t\tquery.onsuccess = ev => {\r\n\t\t\t\t\t\t\t\tthis.shipNameArray = query.result.map(x => x.toString());\r\n\t\t\t\t\t\t\t\tresolve(null);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tquery.onerror = ev => {\r\n\t\t\t\t\t\t\t\tconsole.error('error getting ship names', ev);\r\n\t\t\t\t\t\t\t\treject();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, error => {\r\n\t\t\t\t\t\tconsole.error('failed to load ship - error in init database', error);\r\n\t\t\t\t\t\treject();\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tloadShip(shipName: string) {\r\n\t\t\t\tconst context = this.$dbContext;\r\n\t\t\t\tcontext.initDatabase().then(() => {\r\n\t\t\t\t\tconst store = context.getStore(\"ShipLocalStores\", \"readonly\");\r\n\t\t\t\t\tif (store) {\r\n\t\t\t\t\t\tcontext.getStoredObjectByIndex<ShipLocalStore>(store, shipName).then(result => {\r\n\t\t\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\t\t\tconst data = JSON.parse(result.data) as PlayerInventory;\r\n\t\t\t\t\t\t\t\tthis.shipInventory.cash = data.cash;\r\n\t\t\t\t\t\t\t\tthis.shipInventory.ores = data.ores;\r\n\t\t\t\t\t\t\t\tthis.shipName = result.shipName;\r\n\t\t\t\t\t\t\t\tthis.showLoadDialog = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror => {\r\n\t\t\t\t\t\t\t\tconsole.error('unable to load ship', error);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.error('failed to load ship - error in init database', error)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n","import { render } from \"./ShipPurchase.vue?vue&type=template&id=7cf35efe\"\nimport script from \"./ShipPurchase.vue?vue&type=script&lang=ts\"\nexport * from \"./ShipPurchase.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\r\n\t\r\n\t<div class=\"container-fluid inventory-card\">\r\n\t\t<div class=\"form-floating m-2\">\r\n\t\t\t<input type=\"number\" v-model=\"compare.cash\" class=\"form-control\" id=\"floatingInput\" disabled\r\n\t\t\t\t\tv-bind:class=\"{ 'is-invalid': compare.cash < 0, 'is-valid' : compare.cash > 0 }\">\r\n\t\t\t<label for=\"floatingInput\">Balance After Purchase</label>\r\n\t\t</div>\r\n\t\t<div class=\"card m-2  mt-3 px-2\">\r\n\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t<span>Total ore volume remaining:  </span>\r\n\t\t\t\t<span>{{numberToKvString(compare.totalOreVolume)}}</span>\r\n\t\t\t</p>\r\n\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t<span>Total ore stacks remaining: </span>\r\n\t\t\t\t<span>{{formatNumber(compare.totalOreStacks)}}</span>\r\n\t\t\t</p>\r\n\t\t\t<p class=\"d-flex justify-content-between w-100\">\r\n\t\t\t\t<span>Total ore value remaining: </span>\r\n\t\t\t\t<span>{{formatNumber(compare.totalOreValue)}}<img src=\"../assets/credit.png\" /></span>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"table-responsive\">\r\n\t\t<table class=\"table table-sm  table-striped\">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t<!--<th>Stack Value</th>-->\r\n\t\t\t\t\t<th>Stack Count</th>\r\n\t\t\t\t\t<th>Extra Volume</th>\r\n\t\t\t\t\t<th>Total Ore</th>\r\n\t\t\t\t\t<th>Total <img src=\"../assets/credit.png\" /></th>\r\n\t\t\t\t</tr>\r\n\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr v-for=\"ore in compare.oreArray\" :key=\"ore\" v-bind:class=\"{ 'text-danger': ore.totalOre < 0, 'text-success' : ore.totalOre > 0 }\">\r\n\t\t\t\t\t<td>{{ore.name}}</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{ore.fullStackCount}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.nonFullStackTotalVolume)}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.totalOre)}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t{{formatNumber(ore.totalMarketValue)}}\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t\r\n</template>\r\n<script lang=\"ts\">\r\n\timport { defineComponent, inject } from 'vue';\r\n\timport PlayerInventory, { InventoryCompare } from '@/data/classes/PlayerInventory';\r\n\texport default defineComponent({\r\n\t\tname: 'InventoryCompare',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcompare: new InventoryCompare(this.inventoryA as PlayerInventory, this.inventoryB as PlayerInventory)\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tinventoryA: Object,\r\n\t\t\tinventoryB: Object\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(n: number) {\r\n\t\t\t\treturn this.$stringHelper.formatNumber(n);\r\n\t\t\t},\r\n\t\t\tnumberToKvString(n: number) {\r\n\t\t\t\treturn this.$stringHelper.numberToKvString(n)\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n</script>\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","\r\n\timport { defineComponent, inject } from 'vue';\r\n\timport PlayerInventory, { InventoryCompare } from '@/data/classes/PlayerInventory';\r\n\texport default defineComponent({\r\n\t\tname: 'InventoryCompare',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcompare: new InventoryCompare(this.inventoryA as PlayerInventory, this.inventoryB as PlayerInventory)\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tinventoryA: Object,\r\n\t\t\tinventoryB: Object\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(n: number) {\r\n\t\t\t\treturn this.$stringHelper.formatNumber(n);\r\n\t\t\t},\r\n\t\t\tnumberToKvString(n: number) {\r\n\t\t\t\treturn this.$stringHelper.numberToKvString(n)\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n","import { render } from \"./InventoryCompare.vue?vue&type=template&id=254e5bbf\"\nimport script from \"./InventoryCompare.vue?vue&type=script&lang=ts\"\nexport * from \"./InventoryCompare.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"market\">\n\t\t<div class=\"d-flex flex-wrap\">\n\t\t\t<div class=\"m-1\" v-for=\"ore in oreTable\" :key=\"ore\">\n\t\t\t\t<label>{{ore.name}}</label>\n\t\t\t\t<input class=\"form-control form-control-sm\" v-model.number=\"ore.marketValue\" v-on:change=\"update(ore)\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<!--<div class=\"table-responsive\">\n\t\t\t<table class=\"table table-sm\">\n\t\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Ore</th>\n\t\t\t\t\t<th><img src=\"../assets/credit.png\" /></th>\n\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr v-for=\"ore in oreTable\" :key=\"ore\">\n\t\t\t\t\t\t<td>{{ore.name}}</td>\n\t\t\t\t\t\t<td><input class=\"form-control form-control-sm\" v-model.number=\"ore.marketValue\"  v-on:change=\"update(ore)\" /></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>-->\n\t</div>\n</template>\n\n<script lang=\"ts\">\n\timport { defineComponent } from 'vue';\n\timport Market from '../data/classes/Market';\n\timport Ore from '../data/classes/Ore';\n\texport default defineComponent({\n\t\tname: 'Market',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\toreTable: Market.ores\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdate(ore: Ore) {\n\t\t\t\tconst match = Market.ores.find(x => x.name === ore.name);\n\n\t\t\t\tif (match) {\n\t\t\t\t\tmatch.marketValue = ore.marketValue;\n\t\t\t\t\tconsole.log(Market);\n\t\t\t\t}\n\t\t\t\tthis.$emit(\"updateOres\", true);\n\t\t\t}\n\t\t},\n\t\temits: {\n\t\t\tupdateOres : Object\n\t\t}\n\t});\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n</style>\n","\n\timport { defineComponent } from 'vue';\n\timport Market from '../data/classes/Market';\n\timport Ore from '../data/classes/Ore';\n\texport default defineComponent({\n\t\tname: 'Market',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\toreTable: Market.ores\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdate(ore: Ore) {\n\t\t\t\tconst match = Market.ores.find(x => x.name === ore.name);\n\n\t\t\t\tif (match) {\n\t\t\t\t\tmatch.marketValue = ore.marketValue;\n\t\t\t\t\tconsole.log(Market);\n\t\t\t\t}\n\t\t\t\tthis.$emit(\"updateOres\", true);\n\t\t\t}\n\t\t},\n\t\temits: {\n\t\t\tupdateOres : Object\n\t\t}\n\t});\n\n","import { render } from \"./Market.vue?vue&type=template&id=8c5f342c\"\nimport script from \"./Market.vue?vue&type=script&lang=ts\"\nexport * from \"./Market.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\n\timport OreTable from '@/components/OreTable.vue';\n\timport { defineComponent } from 'vue';\n\timport PlayerInventory from '@/data/classes/PlayerInventory';\n\timport ShipPurchase from '@/components/ShipPurchase.vue';\n\timport InventoryCompare from '@/components/InventoryCompare.vue';\n\timport Market from '../data/classes/Market';\r\n\timport MarketComponent from '@/components/Market.vue';\r\n\n\n\texport default defineComponent({\n\t\tname: \"Home\",\n\t\tcomponents: {\n\t\t\tOreTable,\n\t\t\tShipPurchase,\n\t\t\tInventoryCompare,\n\t\t\tMarketComponent\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tplayerInventory: new PlayerInventory(),\n\t\t\t\tshipInventory: new PlayerInventory(),\n\t\t\t\tdifferenceInventory: new PlayerInventory(),\n\t\t\t\tmarket: Market\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tupdateOreValues() {\r\n\t\t\t\tthis.playerInventory.updateOres();\r\n\t\t\t\tthis.shipInventory.updateOres();\r\n\t\t\t},\n\t\t}\n\t})\n","import { render } from \"./Home.vue?vue&type=template&id=1092a1f2&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=1092a1f2&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-1092a1f2\"\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport Home from '../views/Home.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","class DbStore {\r\n\tconstructor(tableName: string, keyPath: string, indexes: DbIndex[], autoIncrement: boolean) {\r\n\t\tthis.storeName = tableName;\r\n\t\tthis.indexes = indexes;\r\n\t\tthis.keyPath = keyPath;\r\n\t\tthis.autoIncrement = autoIncrement;\r\n\t}\r\n\r\n\tkeyPath: string;\r\n\tstoreName: string;\r\n\tindexes: DbIndex[];\r\n\tautoIncrement: boolean;\r\n}\r\n\r\nclass DbIndex {\r\n\tconstructor(name: string, isUnique: boolean) {\r\n\t\tthis.name = name;\r\n\t\tthis.isUnique = isUnique;\r\n\t}\r\n\r\n\tname: string;\r\n\tisUnique: boolean;\r\n}\r\n\r\nexport class DbContext {\r\n\tdbName = 'sb-inv-db';\r\n\tversion = 2;\r\n\tdb: IDBDatabase | null = null;\r\n\t/*isInitialized = false;*/\r\n\r\n\tdbStores: DbStore[] = [\r\n\t\tnew DbStore(\"ShipLocalStores\", \"shipName\", [new DbIndex(\"shipName\", true)], false),\r\n\t\tnew DbStore(\"PlayerInventory\", \"id\", [], true)\r\n\t];\r\n\r\n\tconstructor() {\r\n\t\t//this.initDatabase().then(() => {\r\n\t\t//\tthis.isInitialized = true;\r\n\t\t//});\r\n\t}\r\n\r\n\tinitDatabase() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst request: IDBOpenDBRequest = indexedDB.open(this.dbName, this.version);\r\n\r\n\t\t\trequest.onerror = ev => {\r\n\t\t\t\treject(ev);\r\n\t\t\t}\r\n\r\n\t\t\trequest.onupgradeneeded = ev => {\r\n\t\t\t\tthis.addStores(ev).then(() => {\r\n\t\t\t\t\tconsole.log('finished adding stores');\r\n\t\t\t\t\tresolve(null);\r\n\t\t\t\t}, (err) => {\r\n\t\t\t\t\tconsole.error('error adding stores', err);\r\n\t\t\t\t\treject(err);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\trequest.onsuccess = (ev) => {\r\n\t\t\t\tthis.db = request.result;\r\n\t\t\t\tconsole.log('opened db successfully', this.db);\r\n\t\t\t\tresolve(null);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate addStores(event: any): Promise<unknown> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tif (event) {\r\n\t\t\t\tthis.db = event.target.result as IDBDatabase;\r\n\r\n\t\t\t\tconst localPromises: Promise<unknown>[] = [];\r\n\t\t\t\tconst existingStores = this.db?.objectStoreNames;\r\n\r\n\t\t\t\tif (this.db) {\r\n\t\t\t\t\tfor (const store of this.dbStores) {\r\n\t\t\t\t\t\tlocalPromises.push(new Promise((res, rej) => {\r\n\t\t\t\t\t\t\tif (existingStores.contains(store.storeName)) {\r\n\t\t\t\t\t\t\t\tres(null);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log('creating store with name', store.storeName);\r\n\t\t\t\t\t\t\t\tif (store.autoIncrement) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tconst r = this.db?.createObjectStore(store.storeName, { autoIncrement: true });\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconst objStore = this.db?.createObjectStore(store.storeName, { keyPath: store.keyPath });\r\n\r\n\t\t\t\t\t\t\t\t\tfor (const index of store.indexes) {\r\n\t\t\t\t\t\t\t\t\t\tobjStore?.createIndex(index.name, index.name, { unique: index.isUnique });\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tPromise.all(localPromises).then(() => {\r\n\t\t\t\t\t\t\tresolve(null);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror => {\r\n\t\t\t\t\t\t\treject(error);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\treject('db is null or undefined');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetStore(storeName: string, mode: 'readonly' | 'readwrite'): IDBObjectStore | undefined {\r\n\t\tconst transaction = this.db?.transaction(storeName, mode);\r\n\t\treturn transaction?.objectStore(storeName);\r\n\t}\r\n\r\n\tgetStoredObjectByIndex<T>(store: IDBObjectStore, index: string | number): Promise<T | null> {\r\n\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconsole.log(store);\r\n\t\t\tconst request = store.get(index);\r\n\r\n\t\t\trequest.onerror = ev => {\r\n\t\t\t\tconsole.error(ev);\r\n\t\t\t\treject(ev);\r\n\t\t\t}\r\n\r\n\t\t\trequest.onsuccess = ev => {\r\n\t\t\t\tconsole.log(request);\r\n\t\t\t\tconsole.log(request.result);\r\n\r\n\t\t\t\tif (request.result) {\r\n\t\t\t\t\tresolve(request.result as T);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresolve(null);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tsaveObject<T>(store: IDBObjectStore, index: string, value: T) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.getStoredObjectByIndex<T>(store, index)\r\n\t\t\t\t.then(obj => {\r\n\t\t\t\t\tlet result: IDBRequest | undefined = undefined;\r\n\t\t\t\t\tif (obj) {\r\n\t\t\t\t\t\tresult = store.put(value);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('adding by index: ' + index, value);\r\n\t\t\t\t\t\tresult = store.add(value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tresult.onsuccess = ev => {\r\n\t\t\t\t\t\t\tresolve(null);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresult.onerror = ev => {\r\n\t\t\t\t\t\t\treject(ev);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject('failed getting result on save');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n}\r\n\r\n","\r\n\r\nexport default class StringHelper {\r\n\tformatNumber = (n: number): number => {\r\n\t\tconst n1 = Number(n) ?? 0;\r\n\t\treturn n1 ? Number(n.toFixed(0)) : 0;\r\n\t}\r\n\r\n\tnumberToKvString = (n: number): string => {\r\n\t\tlet n1 = Number(n) ?? 0;\r\n\t\tn1 = n1 / 1000;\r\n\t\treturn `${n1} kv`;\r\n\t}\r\n}","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport \"bootstrap\"\r\nimport { DbContext } from \"@/data/classes/IndexedDb/DbContext\"\r\nimport StringHelper from \"@/data/classes/StringHelper\"\r\n\r\n\r\nconst app = createApp(App);\r\nconst c = new DbContext();\r\nc.initDatabase();\r\napp.config.globalProperties.$dbContext = c;\r\napp.config.globalProperties.$stringHelper = new StringHelper();\r\n\r\ndeclare module '@vue/runtime-core' {\r\n\texport interface ComponentCustomProperties {\r\n\t\t$dbContext: DbContext;\r\n\t\t$stringHelper: StringHelper;\r\n\t}\r\n}\r\n\r\napp.use(router).mount('#app');\r\n"],"sourceRoot":""}